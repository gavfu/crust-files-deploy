"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[127],{82720:function(e,t,n){n.d(t,{U:function(){return l}});var r=n(67294),o=n(29163),i=n(18538),a=n(94184),c=n.n(a),s=n(85893);var l=r.memo((0,o.ZP)((function(e){var t=e.className,n=e.onClickUpFile,r=e.onClickUpFolder,o=e.disabled;return r?(0,s.jsx)(i.Z,{className:c()(t,{disabled:o}),pointing:"top",icon:null,basic:!0,text:"Upload",children:(0,s.jsxs)(i.Z.Menu,{children:[(0,s.jsx)(i.Z.Item,{text:"File",icon:(0,s.jsx)("span",{className:"icon cru-fo-file"}),onClick:n}),(0,s.jsx)(i.Z.Item,{text:"Folder",icon:(0,s.jsx)("span",{className:"icon cru-fo-folder"}),onClick:r})]})}):(0,s.jsx)("div",{className:c()("btn-upload",{disabled:o},t),onClick:n,children:"Upload"})})).withConfig({displayName:"BtnUpload",componentId:"sc-wp55x1-0"})(["&.btn-upload,&.ui.dropdown>.text.divider{padding:0 4.285714rem;font-family:OpenSans-Medium;font-size:2.571429rem;line-height:6.428571rem;cursor:pointer;border:2px solid #000000;box-sizing:border-box;border-radius:1.714286rem;}&.disabled{background:#EEEEEE;border:unset !important;color:#AAAAAA;cursor:not-allowed;}&.ui.dropdown{.cru-fo{font-size:1.3rem;margin-left:1.1rem;}.menu::after{display:none;}.menu{width:100%;background:#FFFFFF;box-shadow:0 0.57rem 1.43rem 0 rgba(0,0,0,0.1);border:1px solid #EEEEEE;border-radius:0.86rem;padding:0.57rem;.icon{margin-left:1.144286rem;margin-right:1.714286rem;}.item{padding:0.78rem 0.57rem !important;border-radius:0.57rem;font-size:1.285714rem;&:active{background-color:#EEEEEE;}}}}"]))},74346:function(e,t,n){n.d(t,{ZP:function(){return U}});var r=n(67294),o=n(1300),i=n(71416),a=n(65382),c=n(17082),s=n(96486),l=n.n(s);var u=n(30266),d=n(809),p=n.n(d),f=n(9669),m=n.n(f),h=n(93162),g=n(56755),v=n.n(g),b=n(28803),x=n(29163),y=n(12752),w=n(54040),j=n(80318),k=n(83789),C=n(66103),Z=n(98278);function P(e){return e}function N(e){e.current.isActive=!1,e.current.subscriber&&(e.current.subscriber.then((function(e){return e()})).catch(console.error),e.current.subscriber=null)}function S(e,t,n){var o=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}(),i=(0,r.useRef)({isActive:!1,serialized:null,subscriber:null}),a=(0,r.useState)((n||{}).defaultValue),c=a[0],s=a[1];return(0,r.useEffect)((function(){return function(){return N(i)}}),[]),(0,r.useEffect)((function(){if(o.current&&e){var r=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).paramMap,r=void 0===n?P:n;return[JSON.stringify({f:null===e||void 0===e?void 0:e.name,p:t}),0!==t.length&&t.some((function(e){return(0,C.F)(e)||(0,Z.o)(e)}))?null:r(t)]}(e,t||[],n),a=(0,j.Z)(r,2),c=a[0],l=a[1];l&&c!==i.current.serialized&&(i.current.serialized=c,function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=i.transform,c=void 0===a?P:a,s=i.withParams,l=i.withParamsTransform,u=r.filter((function(e){return!(0,Z.o)(e)}));N(t),setTimeout((function(){var i;e.current&&(!n||n.meta&&null!==(i=n.meta.type)&&void 0!==i&&i.isDoubleMap&&2!==u.length?t.current.subscriber=null:(t.current.isActive=!0,t.current.subscriber=n.apply(void 0,(0,k.Z)(r).concat([function(n){e.current&&t.current.isActive&&e.current&&t.current.isActive&&o(s?[r,c(n)]:c(l?[r,n]:n))}]))))}),0)}(o,i,e,l,s,n))}}),[e,n,o,t]),c}var E=n(20478),O=n(59996),A=n(56262),D=n(99056),F=n(96705),I=n(60954),_=n(85893);function T(e,t){var n=t.find((function(t){return t.value===e.UpEndpoint})),r=n&&n.value||t[0].value;return"".concat(r,"/ipfs/").concat(e.Hash,"?filename=").concat(e.Name)}var z=r.memo((0,x.ZP)((function(e){var t,n,i,c,s=e.file,d=e.className,f=e.uc,g=e.onDelete,x=e.type,j="public"===(void 0===x?"public":x),k=(0,E.V)(),C=(0,r.useContext)(y.Il),Z=C.api,P=C.alert,N=C.loading,z=(0,A.T)().endpoints,M=(0,r.useCallback)((0,u.Z)(p().mark((function e(){var t,n,r,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.Encrypted||0!==l().size(s.items)){e.next=28;break}if(e.prev=1,f.secret){e.next=4;break}return e.abrupt("return");case 4:return N.show(),e.next=7,m().get(T(s,z),{responseType:"arraybuffer"});case 7:return t=e.sent,console.info("res::",t),n=(new Date).getTime(),e.next=12,(0,w.n)(t.data,f.secret);case 12:if(r=e.sent,console.info("decrypt:",((new Date).getTime()-n)/1e3),r){e.next=16;break}throw"error";case 16:console.info("de:",r),o=new File([r],s.Name,{type:t.headers["content-type"]}),(0,h.saveAs)(o,s.Name),N.hide(),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),N.hide(),P.error("Decrypt error");case 26:e.next=29;break;case 28:window.open(T(s,z),"_blank");case 29:case"end":return e.stop()}}),e,null,[[1,22]])}))),[f,s,z]),U=(0,F.WY)(),R=Z&&(null===(t=Z.query)||void 0===t?void 0:t.market)&&(null===(n=Z.query)||void 0===n?void 0:n.market.files),H=!!R,L=S(R,[s.Hash]),B=S(null===Z||void 0===Z||null===(i=Z.derive)||void 0===i||null===(c=i.chain)||void 0===c?void 0:c.bestNumber),G=B&&B.toNumber(),q=(0,r.useMemo)((function(){var e={status:"Submitted"};if(L&&!L.isEmpty){var t=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return{expired_at:0,reported_replica_count:0,amount:0,file_size:0,prepaid:!1}}}(L),n=t.expired_at,r=t.reported_replica_count,o=t.amount,i=t.file_size,a=t.prepaid;e.expireTime=n,e.amount=o,e.startTime=n?n-216e3:0,e.fileSize=i,e.confirmedReplicas=r,e.prepaid=a,n&&n<G&&(e.status="Expired"),r<1&&(e.status="Submitted"),n&&n>G&&r>0&&(e.status="Success")}else H&&(new Date).getTime()-s.PinTime>=72e5&&(e.status="Failed");return G||(e.status="Loading"),e}),[L,G]);return(0,_.jsxs)(o.Z.Row,{className:d,children:[(0,_.jsxs)(o.Z.Cell,{className:"fileName",children:[(0,D.lS)(s.Name),s.items&&(0,_.jsx)("span",{className:"icon cru-fo-folder"}),s.Encrypted&&(0,_.jsx)(b.Z,{trigger:(0,_.jsx)("span",{className:"icon cru-fo-key"}),content:"Encrypted",position:"top center"})]}),(0,_.jsxs)(o.Z.Cell,{textAlign:"right",children:[(0,D.lS)(s.Hash),(0,_.jsx)(b.Z,{position:"top center",content:"Copy File CID",trigger:(0,_.jsx)("span",{className:"cru-fo cru-fo-copy",onClick:function(){return k(s.Hash)},style:{marginLeft:"1.8rem"}})})]}),(0,_.jsx)(o.Z.Cell,{textAlign:"center",style:{textTransform:"uppercase"},children:v()(Number(s.Size),{round:2})}),(0,_.jsxs)(o.Z.Cell,{textAlign:"center",children:["Loading"===q.status&&(0,_.jsx)(a.Z,{loading:!0,name:"spinner"}),"Submitted"===q.status&&q.status,"Expired"===q.status&&q.status,"Failed"===q.status&&q.status,"Success"===q.status&&"".concat(q.status," (").concat(q.confirmedReplicas," Replicas)")]}),(0,_.jsxs)(o.Z.Cell,{textAlign:"center",children:[(0,_.jsx)(b.Z,{position:"top center",content:"Open",trigger:(0,_.jsx)("span",{className:"cru-fo cru-fo-external-link",style:{marginLeft:"1rem"},onClick:M})}),(0,_.jsx)(b.Z,{position:"top center",content:"Delete",trigger:(0,_.jsx)("span",{className:"cru-fo cru-fo-trash-2",style:{marginLeft:"1rem"},onClick:function(){g(s)}})})]}),j&&!s.items&&(0,_.jsx)(o.Z.Cell,{textAlign:"center",children:(0,_.jsx)(I.Z,{className:"item-share-btn",onClick:function(){var e={name:s.Name,encrypted:s.Encrypted,gateway:s.UpEndpoint,fromAccount:U.account,fromWallet:U.wallet,from:U.nickName,isDir:!!s.items};(0,O.H)({type:3,walletType:U.wallet,address:U.account,data:{cid:s.Hash,fileType:s.items?1:0,strategy:s.Encrypted?1:0,shareType:0}});var t=encodeURI(JSON.stringify(e));window.open("".concat(window.location.origin,"/files/share?cid=").concat(s.Hash,"&options=").concat(t),"_blank")},children:"Share"})})]})})).withConfig({displayName:"FileItem",componentId:"sc-3bbeav-0"})(["color:var(--secend-color) !important;.cru-fo,.icon{cursor:pointer;font-size:1.3rem;position:relative;top:0.3rem;}.fileName{.icon{margin-left:0.6rem;}}.item-share-btn{padding:5px 11px !important;border-radius:8px !important;}"])),M=n(11163);var U=r.memo((0,x.ZP)((function(e){var t=e.className,n=e.pageCount,s=void 0===n?7:n,u=e.files,d=e.type,p=void 0===d?"public":d,f=e.onDeleteItem,m=(0,M.useRouter)(),h="public"===p,g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=(0,r.useState)(1),o=n[0],i=n[1];return(0,r.useMemo)((function(){var n=l().chunk(e,t);return{totalPage:n.length,pageList:n[o-1]||[],setPage:i,page:o}}),[e,o])}((0,r.useMemo)((function(){return u.filter((function(e){return"public"===p?!e.Encrypted:e.Encrypted}))}),[u,p]),s),v=(0,c.MH)(),b=g.totalPage>1?2:5,x=h?b+1:b;return(0,_.jsxs)(o.Z,{basic:"very",className:t,children:[(0,_.jsx)(o.Z.Header,{className:"font-sans-semibold",children:(0,_.jsxs)(o.Z.Row,{children:[(0,_.jsx)(o.Z.HeaderCell,{children:"File Name"}),(0,_.jsx)(o.Z.HeaderCell,{width:"2",textAlign:"center",children:"File CID"}),(0,_.jsx)(o.Z.HeaderCell,{width:"2",textAlign:"center",children:"File Size"}),(0,_.jsx)(o.Z.HeaderCell,{width:"2",textAlign:"center",children:"Status"}),(0,_.jsx)(o.Z.HeaderCell,{width:"2",textAlign:"center",children:"Action"}),h&&(0,_.jsx)(o.Z.HeaderCell,{width:"2"})]})}),(0,_.jsx)(o.Z.Body,{className:"font-sans-regular",children:g.pageList.map((function(e,t){return(0,_.jsx)(z,{type:p,onDelete:f,uc:v,file:e},"files_item_".concat(t))}))}),(0,_.jsx)(o.Z.Footer,{children:(0,_.jsxs)(o.Z.Row,{children:[(0,_.jsx)(o.Z.HeaderCell,{colSpan:x,className:"btns",children:(0,_.jsxs)("div",{className:"files-tip",children:["The file list is locally cached. If you want to keep this list when switching to another devices, please go to ",(0,_.jsx)("span",{onClick:function(){return m.push("/setting")},children:"Settings->User Data Management"})," to migrate your user data."]})}),g.totalPage>1&&(0,_.jsx)(o.Z.HeaderCell,{colSpan:"3",textAlign:"right",children:(0,_.jsx)(i.Z,{totalPages:g.totalPage,activePage:g.page,firstItem:null,lastItem:null,prevItem:{content:(0,_.jsx)(a.Z,{name:"angle left"}),icon:!0},nextItem:{content:(0,_.jsx)(a.Z,{name:"angle right"}),icon:!0},secondary:!0,onPageChange:function(e,t){var n=t.activePage;return g.setPage(n)}})})]})})]})})).withConfig({displayName:"FilesTable",componentId:"sc-dquu9o-0"})(["padding:1rem 2rem;width:100%;thead{font-size:1.29rem;font-weight:600;th:first-child{padding-left:0.57rem !important;}th{border-bottom:unset !important;}}tbody{color:var(--secend-color);tr,td{border-top:unset !important;}tr > td:first-child{padding-left:0.57rem !important;}tr:nth-child(2n - 1){background-color:#f8f8f8;td:first-child{overflow:hidden;border-top-left-radius:0.57rem;border-bottom-left-radius:0.57rem;}td:last-child{overflow:hidden;border-top-right-radius:0.57rem;border-bottom-right-radius:0.57rem;}}}tfoot{.btns > button{margin-right:1rem !important;}th{border-top:unset !important;}.btns{span{cursor:pointer;color:#808080;}}.btns > i{color:var(--secend-color);cursor:pointer;}.pagination > .item{color:var(--secend-color);padding:0.8rem 1rem !important;min-width:unset !important;border-radius:5rem !important;margin:unset;}.files-tip{font-size:10px;line-height:22px;color:#999999;padding-left:0.57rem;span{color:var(--primary-color);}}}"]))},97494:function(e,t,n){var r=n(67294),o=n(29163),i=n(85893);t.Z=r.memo((0,o.ZP)((function(e){var t=e.src,n=void 0===t?"/images/logo_22x.png":t,r=e.className;return(0,i.jsx)("div",{className:r,children:(0,i.jsx)("img",{src:n})})})).withConfig({displayName:"Logo",componentId:"sc-lchex5-0"})(["display:inline-block;img{display:inline-block;height:2.5rem;width:auto;object-fit:contain;}span{font-size:2.45rem;font-weight:400;line-height:2.45rem;color:white;display:inline-block;}"]))},46176:function(e,t,n){n.d(t,{R:function(){return y}});var r=n(80318),o=n(30266),i=n(809),a=n.n(i),c=n(94184),s=n.n(c),l=n(67294),u=n(73935),d=n(29163),p=n(65058),f=n(85893);function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return new Promise((function(n){e.file((function(e){e._webkitRelativePath="".concat(t,"/").concat(e.name),n(e)}))}))}function v(e,t){return new Promise((function(n){var r=[];e.readEntries(function(){var i=(0,o.Z)(a().mark((function o(i){var c,s,l;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!i.length){o.next=36;break}c=m(i),o.prev=3,c.s();case 5:if((s=c.n()).done){o.next=23;break}if(!(l=s.value).isFile){o.next=15;break}return o.t0=r,o.next=11,g(l,t);case 11:o.t1=o.sent,o.t0.push.call(o.t0,o.t1),o.next=21;break;case 15:if(!l.isDirectory){o.next=21;break}return o.t2=r,o.next=19,v(l.createReader(),"".concat(t,"/").concat(l.name));case 19:o.t3=o.sent,r=o.t2.concat.call(o.t2,o.t3);case 21:o.next=5;break;case 23:o.next=28;break;case 25:o.prev=25,o.t4=o.catch(3),c.e(o.t4);case 28:return o.prev=28,c.f(),o.finish(28);case 31:return o.t5=r,o.next=34,v(e,t);case 34:o.t6=o.sent,r=o.t5.concat.call(o.t5,o.t6);case 36:n(r);case 37:case"end":return o.stop()}}),o,null,[[3,25,28,31]])})));return function(e){return i.apply(this,arguments)}}())}))}function b(e){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(a().mark((function e(t){var n,r,o,i,c,s,l,u,d,p,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.files.length){e.next=2;break}return e.abrupt("return",null);case 2:for(n=t.items,r={files:[]},o=1===n.length,i=[],c=0;c<n.length;c++)s=n[c],(l=s.webkitGetAsEntry())&&l.isDirectory?(o&&(r.dir=l.name),i.push({reader:l.createReader(),path:l.name})):l&&(o?r.file=s.getAsFile():r.files.push(s.getAsFile()));u=0,d=i;case 8:if(!(u<d.length)){e.next=17;break}return p=d[u],e.next=12,v(p.reader,p.path);case 12:f=e.sent,r.files=r.files.concat(f);case 14:u++,e.next=8;break;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=l.memo((0,d.ZP)((function(e){var t=e.className,n=(0,p.O)(),i=(0,r.Z)(n,2),c=i[0],d=i[1],m=(0,l.useState)(null),h=m[0],g=m[1],v=function(){var t=(0,o.Z)(a().mark((function t(n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b(n.dataTransfer);case 3:r=t.sent,console.info("fielInfo:",r),d(!1),r&&e.onDrop&&e.onDrop(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){var e=document.getElementById("__next");g(e)}),[]),(0,l.useEffect)((function(){if(h){var e=function(e){e.preventDefault(),d(!0)},t=function(e){"_drap_drop_frame"===e.target.id&&d(!1)};return h.addEventListener("dragenter",e),h.addEventListener("dragleave",t),function(){var n=document.getElementById("_drap_drop_frame");n&&h.removeChild(n),h.removeEventListener("dragenter",e),h.removeEventListener("dragleave",t)}}}),[h]),h?u.createPortal((0,f.jsx)("div",{id:"_drap_drop_frame",onDrop:v,onDragOver:function(e){return e.preventDefault()},className:s()(t,{show:c}),children:"Upload files to this directory"}),h):null})).withConfig({displayName:"OnDrapDropFrame",componentId:"sc-oxlf0c-0"})(["position:fixed;width:100vw;height:100vh;z-index:9999999;left:0;top:0;background:rgba(255,255,255,0.7);border:3px dashed #CCCCCC;box-sizing:border-box;display:none;align-items:center;justify-content:center;font-weight:600;font-size:36px;&.show{display:flex;}"]))},60649:function(e,t,n){var r=n(94184),o=n.n(r),i=n(96486),a=n.n(i),c=n(11163),s=n(67294),l=n(76736),u=n(35766),d=n(14309),p=n(94983),f=n(29163),m=n(97494),h=n(85893),g=[{path:"/home",icon:"cru-fo-home",name:"Home"},{icon:"cru-fo-file",isParent:!0,name:"My Files"},{path:"/files",name:"Public"},{path:"/files/vault",name:"Vault"},{path:"/setting",icon:"cru-fo-settings",name:"Settings"},{path:"/share-earn",icon:"cru-fo-share-2",name:"Share-and-Earn"},{path:"/user",icon:"cru-fo-user",name:"Premium User"},{path:"/twitter-poc",icon:"cru-fo-twitter",name:"Twitter POC"}];var v="15.7rem";t.Z=s.memo((0,f.ZP)((function(e){var t=(0,c.useRouter)(),n=(0,s.useCallback)((function(n,r){var o=r.index,i=g[o];i.path&&i.path!==e.path&&t.push(i.path)}),[e.path]),r=(0,s.useMemo)((function(){return a().findIndex(g,(function(e){return"/share-earn"===e.path}))}),[]),i=function(t){return e.path===t.path};return(0,h.jsxs)(l.Z.Pushable,{as:u.Z,className:o()(e.className,"basic"),children:[(0,h.jsxs)(l.Z,{as:u.Z,animation:"push",direction:"left",visible:!0,className:"basic",children:[(0,h.jsxs)(d.Z,{textAlign:"center",children:[(0,h.jsx)(d.Z.Row,{columns:1,className:"logoPanel",children:(0,h.jsx)(m.Z,{src:"/images/logo_12x.png"})}),(0,h.jsx)(d.Z.Row,{columns:1,children:(0,h.jsx)(p.Z,{fluid:!0,vertical:!0,borderless:!0,children:g.map((function(t,r){var o,a;return(0,h.jsx)(p.Z.Item,{className:(a=t,e.path.startsWith(a.path)&&a.isParent?"active2":""),position:"left",index:r,active:i(t),icon:(0,h.jsx)("span",{className:null!==(o=t.icon)&&void 0!==o?o:"cru-fo-file",style:{opacity:t.icon?1:0}}),name:t.name,onClick:n},"side_menu_".concat(r))}))})})]}),(0,h.jsx)("div",{className:"flex1"}),(0,h.jsx)("img",{className:"share_earn",onClick:function(){return n({},{index:r})},src:"/images/share_earn.png"})]}),(0,h.jsx)(l.Z.Pusher,{children:e.children})]})})).withConfig({displayName:"SideLayout",componentId:"sc-a6jhx7-0"})(["height:100vh;background:white;overflow-y:auto;.ui.sidebar{padding:unset !important;background:#F5F5F5;box-shadow:unset !important;width:",";min-height:821px;display:flex;flex-direction:column;align-items:center;.ui.grid{margin:unset !important;width:100%;}.logoPanel{padding:4.7rem 0;img{height:1.7rem;}}.menu{box-shadow:unset !important;border:unset !important;border-radius:unset !important;background:unset !important;.item{border-radius:0 !important;text-align:left;padding-left:2rem !important;font-weight:500;font-size:1.3rem;color:var(--secend-color);font-family:OpenSans-Regular;&.active{position:relative;color:var(--main-color);border-right:solid 0.2rem var(--primary-color);}&.active2{color:var(--main-color);border-right:unset;background-color:transparent;}span{float:left;margin-right:10px;}}}.share_earn{cursor:pointer;width:15rem;height:auto;margin-bottom:1rem;}}.pusher{width:calc(100vw - ",");height:100vh;min-height:821px;transform:translate3d(",",0,0) !important;overflow:auto !important;background:white;}"],v,v,v))},24111:function(e,t,n){n.d(t,{Z:function(){return U}});var r=n(92809),o=n(30266),i=n(80318),a=n(809),c=n.n(a),s=n(9669),l=n.n(s),u=n(96486),d=n.n(u),p=n(67294),f=n(23499),m=n(345),h=n(73626),g=n(28258),v=n(37838),b=n(29163),x=n(54040),y=n(17082),w=n(65058),j=n(59996),k=n(56262),C=n(96705),Z=n(60954),P=n(28803);var N=n(94184),S=n.n(N),E=n(85893),O="_null",A=function(e){var t=e.expand,n=e.list,r=e.group,o=e.select,i=e.onClickItem,a=e.onClickGroup,c=e.renderGroupTitle,s=void 0===c?null:c,l=r===o.group;return(0,E.jsxs)("div",{className:"group",children:[r!==O&&(s&&s({group:r,select:o,onClickGroup:a})||(0,E.jsxs)("div",{className:S()("title",{active:l}),onClick:a,children:[r," ",(0,E.jsx)("span",{className:"dropIcon cru-fo-chevron-down"})]})),t&&n.map((function(e,t){return(0,E.jsx)("div",{className:S()("item",{active:l&&e.value===o.value}),onClick:function(t){return i(t,{group:r,value:e.value})},children:e.text},"group_item_".concat(t))}))]})};var D=p.memo((0,b.ZP)((function(e){var t,n=e.className,r=e.label,o=e.help,a=e.options,c=e.defaultValue,s=e.defaultGroup,l=void 0===s?O:s,u=e.renderGroupTitle,f=(0,p.useState)({value:c,group:l}),m=f[0],h=f[1],g=(0,p.useMemo)((function(){return d().find(a,(function(e){return(e.group||O)===m.group&&e.value===m.value}))}),[a,m]),v=(0,p.useState)(l),b=v[0],x=v[1],y=(0,w.O)(),j=(0,i.Z)(y,2),k=j[0],C=j[1],Z=function(e){var t=(0,p.useRef)(null);return(0,p.useEffect)((function(){var n,r=function(n){t.current&&t.current!==n.target&&!t.current.contains(n.target)&&e&&e(n)};return null===(n=document)||void 0===n||n.addEventListener("mouseup",r),function(){var e;null===(e=document)||void 0===e||e.removeEventListener("mouseup",r)}}),[t.current]),t}((function(){k&&C(!1)})),N=(0,p.useMemo)((function(){return d().groupBy(a,(function(e){return e.group||O}))}),[a]),D=d().keys(N);return(0,E.jsxs)("div",{className:n,onClick:function(){return C()},ref:Z,children:[r&&(0,E.jsxs)("div",{className:"label font-sans-semibold",children:[r,o&&(0,E.jsx)(P.Z,{position:"top center",trigger:(0,E.jsx)("span",{className:"icon cru-fo-question"}),content:o})]}),(0,E.jsx)("span",{className:S()("dropIcon","cru-fo-chevron-down")}),(0,E.jsx)("div",{className:"text font-sans-regular",children:null!==(t=null===g||void 0===g?void 0:g.text)&&void 0!==t?t:""}),k&&(0,E.jsx)("div",{className:"options",children:D.map((function(t,n){return(0,E.jsx)(A,{group:t,renderGroupTitle:u,select:m,expand:b===t||t===O,list:N[t],onClickGroup:function(e){x(b===t?O:t),e.stopPropagation()},onClickItem:function(t,n){h(n),e.onChange(t,n)}},"group_".concat(n))}))})]})})).withConfig({displayName:"MDropdown",componentId:"sc-1nmwkbf-0"})(["position:relative;width:100%;border-radius:0.57rem;border:1px solid var(--line-color);padding:0.8rem 1rem;cursor:pointer;.label{font-size:1rem;font-weight:600;white-space:nowrap;color:var(--main-color);margin-bottom:0.6rem;.icon{font-size:1.3rem;position:relative;top:0.2rem;margin-left:0.86rem;cursor:pointer;color:var(--secend-color);}}.dropIcon{float:right;position:relative;top:-0.9rem;right:0;}.text{font-size:1rem;color:#999999;}.options{width:100%;background:white;position:absolute;top:calc(100% + 1px);left:0;z-index:10;border-radius:4px;border:1px solid var(--line-color);box-shadow:0 1px 5px rgba(0,0,0,0.3);.group{.title{cursor:pointer;border-top:1px solid var(--line-color);padding:0.8rem 1rem;font-size:1.2rem;font-weight:500;&:hover,&.active{background:var(--line-color);}.dropIcon{float:right;right:0.6rem;top:0rem;}}.item{padding:0.6rem 1.6rem;cursor:pointer;&:hover,&.active{background:var(--line-color);}}}}"]));function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(){},M=1048576;var U=p.memo((0,b.ZP)((function(e){var t=e.className,n=e.uc,r=e.file,a=e.onClose,s=void 0===a?z:a,u=e.onSuccess,b=void 0===u?z:u,P=e.user,N=e.type,S=e.isPremium,O=(0,p.useMemo)((function(){return S?1024:40}),[S]),A="vault"===N,F=(0,f.$)().t,T=(0,k.T)(),U=T.endpoint,R=T.endpoints,H=T.onChangeEndpoint,L=(0,k.q)(),B=L.onChangePinner,G=L.pinner,q=L.pins,V=(0,p.useState)(!1),J=V[0],K=V[1],W=(0,p.useMemo)((function(){if(r.file)return r.file.size>O*M;if(r.files){var e,t=0,n=_(r.files);try{for(n.s();!(e=n.n()).done;){t+=e.value.size}}catch(o){n.e(o)}finally{n.f()}return t>O*M}return!1}),[r,O]),$=(0,p.useState)(""),Y=$[0],X=$[1],Q=W?F("Do not upload files larger than ".concat(O,"MB!")):Y,ee=(0,p.useState)({progress:0,up:!1}),te=ee[0],ne=ee[1],re=(0,p.useState)(null),oe=re[0],ie=re[1],ae=A&&!!n.secret,ce=(0,w.O)(),se=(0,i.Z)(ce,2),le=se[0],ue=se[1],de=(0,p.useCallback)((function(){oe&&oe.cancel(),s()}),[oe,s]),pe=W||A&&!n.secret||!P.account||!P.sign,fe=function(){var e=(0,o.Z)(c().mark((function e(){var t,o,i,a,s,u,p,f,m,h,g,v,w,k,Z,N,S,E,A,D,T,z,M,R,H,L,B,q,V,J;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(""),!pe){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,K(!0),t=(0,C.WJ)(P),o="near"===P.wallet?P.pubKey||"":P.account,e.next=9,P.sign(o,P.account);case 9:if(i=e.sent,a="elrond"===P.wallet?i:"".concat(t,"-").concat(o,":").concat(i),s=window.btoa(a),u="Basic ".concat(s),p="Bearer ".concat(s),f=l().CancelToken.source(),ie(f),ne({progress:0,up:!0}),m=new FormData,!(h=!(!ae||!n.secret))){e.next=60;break}if(!r.file){e.next=34;break}return g=(new Date).getTime(),e.next=24,(0,y.vZ)(r.file);case 24:return v=e.sent,console.info("readFile::",((new Date).getTime()-g)/1e3),e.next=28,(0,x.P)(v,n.secret);case 28:w=e.sent,console.info("encrypted::",((new Date).getTime()-g)/1e3),k=new Blob([w],{type:r.file.type}),m.append("file",k,r.file.name),e.next=58;break;case 34:if(!r.files){e.next=58;break}Z=_(r.files),e.prev=36,Z.s();case 38:if((N=Z.n()).done){e.next=50;break}return S=N.value,e.next=42,(0,y.vZ)(S);case 42:return E=e.sent,e.next=45,(0,x.P)(E,n.secret);case 45:A=e.sent,D=new Blob([A],{type:S.type}),m.append("file",D,S.webkitRelativePath);case 48:e.next=38;break;case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(36),Z.e(e.t0);case 55:return e.prev=55,Z.f(),e.finish(55);case 58:e.next=61;break;case 60:if(r.file)m.append("file",r.file,r.file.name);else if(r.files){T=_(r.files);try{for(T.s();!(z=T.n()).done;)M=z.value,m.append("file",M,M._webkitRelativePath||M.webkitRelativePath)}catch(c){T.e(c)}finally{T.f()}}case 61:return R=U.value,e.next=64,l().request({cancelToken:f.token,data:m,headers:{Authorization:u},maxContentLength:O,method:"POST",onUploadProgress:function(e){var t=e.loaded/e.total;ne({progress:Math.round(99*t),up:!0})},params:{pin:!0},url:"".concat(R,"/api/v0/add")});case 64:return"string"===typeof(H=e.sent).data?(B=H.data.replaceAll("}\n{","},{"),q=JSON.parse("[".concat(B,"]")),V=q.length-1,L=q[V],delete q[V],L.items=q):L=H.data,console.info("upResult:",H),ie(null),ne({progress:99,up:!0}),J=G.value,e.next=72,l().request({data:{cid:L.Hash,name:L.Name},headers:{Authorization:p},method:"POST",url:"".concat(J,"/psa/pins")});case 72:ne({progress:100,up:!1}),(0,j.H)({type:2,walletType:P.wallet,address:P.account,data:{cid:L.Hash,fileType:d().size(L.items)?1:0,strategy:h?1:0}}),b(I(I({},L),{},{PinEndpoint:J,PinTime:(new Date).getTime(),UpEndpoint:R,Encrypted:h})),e.next=83;break;case 77:e.prev=77,e.t1=e.catch(3),ne({progress:0,up:!1}),K(!1),console.error(e.t1),X(F("Network Error,Please try to switch a Gateway."));case 83:case"end":return e.stop()}}),e,null,[[3,77],[36,52,55,58]])})));return function(){return e.apply(this,arguments)}}();return(0,E.jsxs)(m.Z,{closeIcon:(0,E.jsx)("span",{className:"close icon cru-fo-x"}),onClose:de,open:!0,size:"large",className:t,children:[(0,E.jsx)(m.Z.Header,{className:"font-sans-semisold",children:F(r.dir?"Upload Folder":"Upload File")}),(0,E.jsxs)(m.Z.Content,{children:[(0,E.jsxs)(h.Z.Group,{children:[(0,E.jsx)(h.Z,{fluid:!0,children:(0,E.jsxs)(h.Z.Content,{children:[(0,E.jsx)(h.Z.Header,{content:r.dir?"Folder":"File"}),(0,E.jsx)(h.Z.Description,{content:r.dir?"".concat(r.dir," (").concat(r.files.length," files)"):"".concat(r.file.name," (").concat(r.file.size," bytes)")})]})}),le&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(h.Z,{fluid:!0,children:(0,E.jsx)(D,{fluid:!0,selection:!0,className:"clear-border",help:F("File streaming and wallet authentication will be processed by the chosen gateway."),disabled:J,label:F("Select a Web3 IPFS Gateway"),onChange:H,options:R,defaultGroup:U.group,defaultValue:U.value})}),(0,E.jsx)(h.Z,{fluid:!0,children:(0,E.jsx)(D,{fluid:!0,selection:!0,className:"clear-border",help:F("Your file will be pinned to IPFS for long-term storage."),disabled:0===q.length,label:F("Select a Web3 IPFS Pinner"),onChange:B,options:q,defaultValue:G.value})})]}),r.file&&(0,E.jsx)(h.Z,{fluid:!0,className:"encryption",children:(0,E.jsxs)(h.Z.Content,{children:[(0,E.jsx)(h.Z.Header,{content:"File Encryption"}),n.secret?(0,E.jsx)(h.Z.Description,{content:ae?"Yes":"File encryption is disabled in Public Mode."}):(0,E.jsx)(h.Z.Description,{content:"Please go to the 'Setting' page and set encryption key before activating this function."}),(0,E.jsx)(g.Z,{toggle:!0,defaultChecked:ae,disabled:!0})]})}),(0,E.jsx)("div",{className:"toggle-options",onClick:function(){return ue()},children:le?"Put Away":"See More"})]}),Q&&(0,E.jsx)("div",{style:{color:"orangered",padding:"1rem",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:Q})]}),(0,E.jsx)(m.Z.Actions,{children:(0,E.jsxs)("div",{className:"uploading",children:[te.up&&(0,E.jsx)(v.Z,{value:te.progress,total:100,active:!0,color:"orange"}),te.up&&(0,E.jsx)(Z.Z,{onClick:de,children:F("Cancel")}),!te.up&&(0,E.jsx)(Z.Z,{fluid:!0,onClick:fe,disabled:pe,children:F("Sign and Upload")})]})})]})})).withConfig({displayName:"UploadModal",componentId:"sc-wor2pt-0"})(['width:51.43rem !important;.header:nth-child(2){height:3.93rem;font-size:1.3rem !important;padding:0 1.14rem !important;font-weight:600 !important;line-height:3.93rem !important;}.close.icon{top:0.5rem;right:0.6rem;color:#666666;}.content{padding:1rem !important;}.ui.cards > .card{margin:0.5rem !important;.content > .header{font-size:1rem;font-weight:unset !important;color:var(--main-color);font-weight:600;font-family:OpenSans-SemiBold;}.content > .description{font-size:1rem;color:#999999;font-family:OpenSans-Regular;}}.ui.cards > .card:first-child{margin-top:1rem !important;}.toggle-options{cursor:pointer;font-size:10px;color:#999999;line-height:14px;margin-top:8px;margin-left:1.51rem;}.actions{height:4.8rem;padding:0.5rem 1rem 0 1rem !important;border-top:unset !important;background:unset !important;.button{margin-left:unset !important;}}.uploading{height:4rem;display:flex;align-items:center;.progress{margin:0 1rem 0 0 !important;vertical-align:baseline;background:unset !important;border:1px solid orange;flex:1;.bar{min-width:unset !important;height:2.5rem;}}}.card.encryption{position:relative;.toggle{position:absolute;top:calc(50% - 0.75rem);right:1rem;input[type="radio"]:checked + label:before{background-color:#2ED158 !important;}}}']))},54040:function(e,t,n){n.d(t,{P:function(){return s},n:function(){return l}});var r=n(30266),o=n(809),i=n.n(o),a=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveKey"]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.deriveKey(r,t,{name:"AES-GCM",length:256},!1,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,s,l,u,d,p,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new Uint8Array(t),o=(new TextEncoder).encode(n),s=window.crypto.getRandomValues(new Uint8Array(16)),l=window.crypto.getRandomValues(new Uint8Array(12)),e.next=7,a(o);case 7:return u=e.sent,e.next=10,c(u,["encrypt"],{name:"PBKDF2",salt:s,iterations:25e4,hash:"SHA-256"});case 10:return d=e.sent,e.next=13,window.crypto.subtle.encrypt({name:"AES-GCM",iv:l},d,r);case 13:return p=e.sent,f=new Uint8Array(p),(m=new Uint8Array(f.byteLength+s.byteLength+l.byteLength)).set(s,0),m.set(l,s.byteLength),m.set(f,s.byteLength+l.byteLength),e.abrupt("return",m);case 22:throw e.prev=22,e.t0=e.catch(0),console.error("Error encrypting file"),console.error(e.t0),e.t0;case 27:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,s,l,u,d,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new Uint8Array(t),o=(new TextEncoder).encode(n),s=r.slice(0,16),l=r.slice(16,28),u=r.slice(28),e.next=8,a(o);case 8:return d=e.sent,e.next=11,c(d,["decrypt"],{name:"PBKDF2",salt:s,iterations:25e4,hash:"SHA-256"});case 11:return p=e.sent,e.next=14,window.crypto.subtle.decrypt({name:"AES-GCM",iv:l},p,u);case 14:return f=e.sent,e.abrupt("return",f);case 18:return e.prev=18,e.t0=e.catch(0),console.error("Error decrypting file"),console.error(e.t0),e.abrupt("return");case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}()},17082:function(e,t,n){n.d(t,{vZ:function(){return g},hC:function(){return v},MH:function(){return b}});var r=n(92809),o=n(30266),i=n(80318),a=n(809),c=n.n(a),s=n(67294),l=n(58971),u=n.n(l),d=n(65058);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=n(21994).Cypher,h=new m(8),g=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){r.result&&t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))};function v(e){try{var t=e&&e.trim();if(t){var n=t.split(" ");if(1===n.length&&n[0]){var r=n[0],o=window.atob(r),i=h.phraseFromSecret(o);if(i&&i.split(" ").length>=4)return{secret:r,seeds:i}}else if(n.length>=4){var a=h.secretFromPhrase(t);if(a&&a.split("-").length>=4)return{secret:window.btoa(a),seeds:t}}}return null}catch(c){return null}}function b(){var e=(0,s.useState)({}),t=e[0],n=e[1],r=(0,d.O)(),a=(0,i.Z)(r,2),l=a[0],p=a[1];(0,s.useEffect)((function(){var e=u().get("user:crypto");e&&n(e),p(!0)}),[]);var h=(0,s.useCallback)((function(e){n(e),u().set("user:crypto",e)}),[]),g=(0,s.useCallback)((0,o.Z)(c().mark((function e(){var t,n,r,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m(8),n=t.genMnemonics(),r=n.secret,o=n.mnemonics,i={secret:window.btoa(r),seeds:o},console.info("length:",r.length,i.secret.length),h(i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),[]);return(0,s.useMemo)((function(){return f(f({},t),{},{generate:g,set:h,init:l})}),[t,h,l,g])}},20478:function(e,t,n){n.d(t,{V:function(){return c}});var r=n(67294),o=n(12752),i=n(20640),a=n.n(i);function c(){var e=(0,r.useContext)(o.Il).alert;return(0,r.useCallback)((function(t){a()(t),e.alert({msg:"Copied",type:"success"})}),[e])}},34111:function(e,t,n){n.d(t,{X:function(){return o}});var r=n(67294);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useState)(),o=n[0],i=n[1];(0,r.useEffect)((function(){i(void 0),a()}),t);var a=function(){t.length&&t.some((function(e){return!e}))||e().then(i).catch(console.error)};return[o,a]}},13711:function(e,t,n){n.d(t,{S:function(){return c}});var r=n(80318),o=n(45129),i=n(96705),a=n(34111);function c(){var e=(0,i.WY)(),t=e.account,n=e.wallet,c=e.member,s="crust"===n,l=(0,a.X)((function(){return(0,o.Y1)(t)}),[t,s]),u=(0,r.Z)(l,2),d=u[0],p=u[1],f=!!(d&&d.deposit&&d.deposit.id);return{isPremiumUser:!(!c||1!==c.member_state)||f,deposit:d,hasDeposit:f,doGetDeposit:p,isCrust:s}}},55867:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(80318),o=n(67294),i=n(23499),a=n(12752);function c(){var e=(0,i.$)().t,t=(0,o.useContext)(a.Il).alert,n=(0,o.useState)(void 0),c=n[0],s=n[1],l=(0,o.useRef)(null),u=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.current&&(l.current.webkitdirectory=e,l.current.multiple=e,l.current.click())}),[l]),d=(0,o.useCallback)((function(){return u(!1)}),[u]),p=(0,o.useCallback)((function(){return u(!0)}),[u]),f=(0,o.useCallback)((function(n){var o=n.target.files;if(o)if(o.length>2e3)t.alert({title:e("Upload"),msg:e("Please do not upload more than 2000 files"),type:"error"});else if(0!==o.length){if(n.target.webkitdirectory){if(o.length>=1){for(var i=[],a=0;a<o.length;a++)i.push(o[a]);console.info(i);var c=i[0].webkitRelativePath.split("/"),l=(0,r.Z)(c,1)[0];s({files:i,dir:l})}}else s({file:o[0]});n.target.value=""}else t.alert({title:e("Upload"),msg:e("Please select non-empty folder"),type:"error"})}),[s,t,e]);return(0,o.useMemo)((function(){return{file:c,setFile:s,inputRef:l,_onClickUpFile:d,_onClickUpFolder:p,_onInputFile:f}}),[c,l,d,p,f])}},59996:function(e,t,n){n.d(t,{H:function(){return a}});var r=n(9669),o=n.n(r),i=n(45129);function a(e){return o().post((0,i.uJ)("/common/report"),e).catch(console.error)}},56262:function(e,t,n){n.d(t,{T:function(){return d},q:function(){return p}});var r=n(92809),o=n(67294),i=n(75282),a=n(23499),c=n(58971),s=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"upload:last-gateway",t=(0,a.$)(),n=t.t,r=(0,o.useMemo)((function(){return(0,i.Dl)(n).map((function(e){var t,n;return u(u({},e),{},{text:"".concat(null!==(t=e.text)&&void 0!==t?t:""," (").concat(null!==(n=e.location)&&void 0!==n?n:"",")")})}))}),[n]),c=(0,o.useMemo)((function(){var t=s().get(e);if(t){var n=r.findIndex((function(e){return e.value===t.value}));if(n>=0)return n}return 0}),[e,r]),l=(0,o.useState)(r[c]),d=l[0],p=l[1],f=(0,o.useCallback)((function(t){p((function(n){var r="function"===typeof t?t(n):t;return s().set(e,{value:r.value}),r}))}),[]),m=(0,o.useCallback)((function(e,t){var n=t.value,o=r.find((function(e){return e.value===n}));o&&f(o)}),[r,f]);return(0,o.useMemo)((function(){return{endpoints:r,endpoint:d,setEndpoint:f,onChangeEndpoint:m}}),[r,d,f,m])}function p(){var e=(0,a.$)().t,t=(0,o.useMemo)((function(){return(0,i.qi)(e).sort((function(){return Math.random()>.5?-1:1})).map((function(e){var t;return u(u({},e),{},{text:"".concat(null!==(t=e.text)&&void 0!==t?t:"Pinner")})}))}),[e]),n=(0,o.useState)(t[0]),r=n[0],c=n[1],s=(0,o.useCallback)((function(e,n){var r=n.value,o=t.find((function(e){return e.value===r}));o&&c(o)}),[t]);return(0,o.useMemo)((function(){return{pinner:r,pins:t,setPinner:c,onChangePinner:s}}),[r,t,s])}}}]);