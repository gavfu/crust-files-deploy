(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{97494:function(e,t,n){"use strict";var r=n(67294),i=n(29163),a=n(85893);t.Z=r.memo((0,i.ZP)((function(e){var t=e.src,n=void 0===t?"/images/logo_22x.png":t,r=e.className;return(0,a.jsx)("div",{className:r,children:(0,a.jsx)("img",{src:n})})})).withConfig({displayName:"Logo",componentId:"sc-lchex5-0"})(["display:inline-block;img{display:inline-block;height:2.5rem;width:auto;object-fit:contain;}span{font-size:2.45rem;font-weight:400;line-height:2.45rem;color:white;display:inline-block;}"]))},8670:function(e,t,n){"use strict";n.d(t,{o:function(){return c}});var r=n(67294),i=n(29163),a=n(94184),s=n.n(a),o=n(85893);var c=r.memo((0,i.ZP)((function(e){var t=e.className,n=e.children;return(0,o.jsx)("div",{className:s()(t,"mcard"),children:n})})).withConfig({displayName:"MCard",componentId:"sc-157sg53-0"})(["padding:1.71rem !important;box-shadow:0 0.71rem 1.71rem 0 rgba(0,0,0,0.06) !important;border-radius:1.14rem !important;border:0.07rem solid #EEEEEE !important;margin:2.21rem 2.29rem 0 2.39rem !important;.title{font-size:1.3rem !important;font-weight:600;color:var(--main-color);padding-bottom:1.14rem;.cru-fo{margin-right:0.8rem;}}.text{font-size:1rem;color:var(--secend-color);line-height:1.57rem;}.icon{margin-left:1rem;font-size:1.428571rem;position:relative;top:3px;cursor:pointer;}.bold-text{color:var(--main-color);}a{text-decoration:underline;line-height:1.2rem;cursor:pointer;}.btns{margin-top:1.7rem;button:first-child{margin-right:1rem;}}"]))},60649:function(e,t,n){"use strict";var r=n(94184),i=n.n(r),a=n(96486),s=n.n(a),o=n(11163),c=n(67294),l=n(76736),u=n(35766),m=n(14309),d=n(94983),h=n(29163),p=n(97494),f=n(85893),g=[{path:"/home",icon:"cru-fo-home",name:"Home"},{icon:"cru-fo-file",isParent:!0,name:"My Files"},{path:"/files",name:"Public"},{path:"/files/vault",name:"Vault"},{path:"/setting",icon:"cru-fo-settings",name:"Settings"},{path:"/share-earn",icon:"cru-fo-share-2",name:"Share-and-Earn"},{path:"/user",icon:"cru-fo-user",name:"Premium User"},{path:"/twitter-poc",icon:"cru-fo-twitter",name:"Twitter POC"}];var v="15.7rem";t.Z=c.memo((0,h.ZP)((function(e){var t=(0,o.useRouter)(),n=(0,c.useCallback)((function(n,r){var i=r.index,a=g[i];a.path&&a.path!==e.path&&t.push(a.path)}),[e.path]),r=(0,c.useMemo)((function(){return s().findIndex(g,(function(e){return"/share-earn"===e.path}))}),[]),a=function(t){return e.path===t.path};return(0,f.jsxs)(l.Z.Pushable,{as:u.Z,className:i()(e.className,"basic"),children:[(0,f.jsxs)(l.Z,{as:u.Z,animation:"push",direction:"left",visible:!0,className:"basic",children:[(0,f.jsxs)(m.Z,{textAlign:"center",children:[(0,f.jsx)(m.Z.Row,{columns:1,className:"logoPanel",children:(0,f.jsx)(p.Z,{src:"/images/logo_12x.png"})}),(0,f.jsx)(m.Z.Row,{columns:1,children:(0,f.jsx)(d.Z,{fluid:!0,vertical:!0,borderless:!0,children:g.map((function(t,r){var i,s;return(0,f.jsx)(d.Z.Item,{className:(s=t,e.path.startsWith(s.path)&&s.isParent?"active2":""),position:"left",index:r,active:a(t),icon:(0,f.jsx)("span",{className:null!==(i=t.icon)&&void 0!==i?i:"cru-fo-file",style:{opacity:t.icon?1:0}}),name:t.name,onClick:n},"side_menu_".concat(r))}))})})]}),(0,f.jsx)("div",{className:"flex1"}),(0,f.jsx)("img",{className:"share_earn",onClick:function(){return n({},{index:r})},src:"/images/share_earn.png"})]}),(0,f.jsx)(l.Z.Pusher,{children:e.children})]})})).withConfig({displayName:"SideLayout",componentId:"sc-a6jhx7-0"})(["height:100vh;background:white;overflow-y:auto;.ui.sidebar{padding:unset !important;background:#F5F5F5;box-shadow:unset !important;width:",";min-height:821px;display:flex;flex-direction:column;align-items:center;.ui.grid{margin:unset !important;width:100%;}.logoPanel{padding:4.7rem 0;img{height:1.7rem;}}.menu{box-shadow:unset !important;border:unset !important;border-radius:unset !important;background:unset !important;.item{border-radius:0 !important;text-align:left;padding-left:2rem !important;font-weight:500;font-size:1.3rem;color:var(--secend-color);font-family:OpenSans-Regular;&.active{position:relative;color:var(--main-color);border-right:solid 0.2rem var(--primary-color);}&.active2{color:var(--main-color);border-right:unset;background-color:transparent;}span{float:left;margin-right:10px;}}}.share_earn{cursor:pointer;width:15rem;height:auto;margin-bottom:1rem;}}.pusher{width:calc(100vw - ",");height:100vh;min-height:821px;transform:translate3d(",",0,0) !important;overflow:auto !important;background:white;}"],v,v,v))},34111:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(67294);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useState)(),i=n[0],a=n[1];(0,r.useEffect)((function(){a(void 0),s()}),t);var s=function(){t.length&&t.some((function(e){return!e}))||e().then(a).catch(console.error)};return[i,s]}},13711:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(80318),i=n(45129),a=n(96705),s=n(34111);function o(){var e=(0,a.WY)(),t=e.account,n=e.wallet,o=e.member,c="crust"===n,l=(0,s.X)((function(){return(0,i.Y1)(t)}),[t,c]),u=(0,r.Z)(l,2),m=u[0],d=u[1],h=!!(m&&m.deposit&&m.deposit.id);return{isPremiumUser:!(!o||1!==o.member_state)||h,deposit:m,hasDeposit:h,doGetDeposit:d,isCrust:c}}},12107:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(80318),i=n(11163),a=n(67294),s=n(23499),o=n(35766),c=n(29163),l=n(60954),u=n(92809),m=n(10219),d=n(94184),h=n.n(d),p=n(21004),f=n(65058),g=n(85893),v=["className","title","defActive","content"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=a.memo((0,c.ZP)((function(e){var t=e.className,n=e.title,i=e.defActive,a=void 0!==i&&i,s=e.content,o=(0,m.Z)(e,v),c=(0,f.O)(a),l=(0,r.Z)(c,2),u=l[0],d=l[1];return(0,g.jsxs)(p.Z,b(b({className:t},o),{},{children:[(0,g.jsx)(p.Z.Title,{active:u,onClick:function(){return d()},children:(0,g.jsxs)("div",{className:"title font-sans-semibold",children:[n,(0,g.jsx)("span",{className:h()("icon",u?"cru-fo-chevron-up":"cru-fo-chevron-down")})]})}),(0,g.jsx)(p.Z.Content,{active:u,children:s})]}))})).withConfig({displayName:"MAccordion",componentId:"sc-1uwsz4-0"})([""])),w=n(8670),y=n(60649),N=n(18988),O=n(12752),P=n(96705),Z=n(75282);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=n(34111),_=n(13711),R=n(45129),S=n(99056);var I=a.memo((0,c.ZP)((function(e){var t=e.className,n=(0,s.$)().t,c=(0,i.useRouter)(),u=(0,P.WY)().account,m=(0,_.S)(),d=m.isPremiumUser,h=m.isCrust,p=function(){var e=(0,O.qD)(),t=e.api,n=e.alert,r=e.loading,i=(0,P.WY)(),s=(0,a.useState)(!1),o=s[0],c=s[1],l=(0,a.useState)(!1),u=l[0],m=l[1];return(0,a.useEffect)((function(){c(!1),i.account&&"crust"===i.wallet&&t&&i.crust.wallet&&c(!0)}),[t,i]),{start:function(){if(o){r.show(),m(!1);var e=k(k({},i.crust.wallet.signer),{},{signPayload:function(e){return i.crust.wallet.signer.signPayload(e)}});t.setSigner(e),t.tx.system.remark(JSON.stringify({scope:"crustFiles",env:Z.g6,action:"claimRewards"})).signAndSend(i.account,{nonce:-1,tip:0},(function(e){t.setSigner(void 0),e.status.isFinalized&&(r.hide(),m(!0))})).catch((function(e){"string"===typeof e?n.error(e):console.error(e),r.hide()}))}},ready:o,finish:u}}(),f=(0,E.X)((function(){return(0,R.rS)(u)}),[u,h]),v=(0,r.Z)(f,2),x=v[0],b=v[1];(0,a.useEffect)((function(){var e;if(p.finish){var t=3;e=setInterval((function(){if(t<=0)return clearInterval(e),void(e=null);t-=1,b()}),5e3)}return function(){return e&&clearInterval(e)}}),[p.finish]);var C=x&&x.pendingReward,I=(0,a.useMemo)((function(){return(0,S.vr)("".concat((null===x||void 0===x?void 0:x.pendingReward)||"0"))}),[x]),z=(0,a.useMemo)((function(){return(0,S.vr)("".concat((null===x||void 0===x?void 0:x.claimedReward)||"0"))}),[x]),D=(0,a.useMemo)((function(){return x&&x.totalInvition}),[x]),M=p.finish||x&&x.claimOngoing,U=!p.ready||!C||M;return(0,g.jsx)(y.Z,{path:"/share-earn",children:(0,g.jsxs)(o.Z,{basic:!0,className:t,children:[(0,g.jsx)(N.Z,{}),(0,g.jsxs)(o.Z,{basic:!0,className:"mcontent",children:[(0,g.jsxs)("div",{className:"share-and-earn",children:[(0,g.jsx)("img",{src:"/images/share_earn2.png"}),(0,g.jsxs)("div",{className:"text",children:["Share files to your friends and invite them to use ",(0,g.jsx)("span",{children:"Crust Files"}),". Enjoy and Earn ",(0,g.jsx)("span",{children:"$CRU"})," !!!"]})]}),(0,g.jsx)(w.o,{children:(0,g.jsx)(j,{title:"How to Share-and-Earn?"})}),(0,g.jsx)(w.o,{children:(0,g.jsx)(j,{title:"Learn about more detailed rules"})}),(0,g.jsx)(w.o,{children:(0,g.jsx)(j,{title:"Get Crust Wallet and CRU"})}),d&&(0,g.jsxs)(w.o,{children:[(0,g.jsx)("div",{className:"title font-sans-semibold",children:n("My Rewards")}),(0,g.jsxs)("div",{className:"text font-sans-regular",children:["Pending Claim Rewards : ",(0,g.jsx)("span",{className:"b-text",children:"".concat(I," CRU")}),"Claimed Rewards : ",(0,g.jsx)("span",{className:"b-text",children:"".concat(z," CRU")}),"Valid Invition : ",(0,g.jsx)("span",{className:"b-text",children:D})]}),(0,g.jsxs)("div",{className:"btns mbtns",children:[(0,g.jsx)(l.Z,{content:n(M?"Ongoing Claim...":"Claim Rewards"),disabled:U,onClick:function(){p.start()}}),M&&(0,g.jsx)("span",{className:"tip",children:"Claim will be done on a daily basis, please check your balance in 24 hours."})]})]}),!d&&(0,g.jsxs)(w.o,{children:[(0,g.jsx)("div",{className:"title font-sans-semibold",children:n("My Rewards")}),(0,g.jsxs)("div",{className:"text font-sans-regular",children:["Total Rewards : ",(0,g.jsx)("span",{className:"b-text",children:"".concat(I," CRU")}),"Valid Invition : ",(0,g.jsx)("span",{className:"b-text",children:D})]}),(0,g.jsx)("div",{className:"btns mbtns",children:(0,g.jsx)(l.Z,{content:n("Get Premium"),onClick:function(){return c.push("/user")}})})]})]})]})})})).withConfig({displayName:"share-earn",componentId:"sc-59zcdp-0"})(["padding:unset !important;.mcontent{margin:unset !important;padding:0 0 3rem 0 !important;overflow:auto;.share-and-earn{margin:2.21rem 2.29rem 0 2.39rem;border:2px solid #000000;border-radius:16px;display:flex;align-items:center;padding:1.428571rem 3.571429rem;img{width:16.214286rem;height:auto;margin-right:2.142857rem;}.text{font-size:2.571429rem;line-height:3.5rem;font-weight:600;span{color:var(--primary-color);}}}.mcard{.ui.accordion{.title{padding:unset !important;}}.b-text{color:var(--primary-color);font-size:18px;font-weight:600;margin-right:4.285714rem;}.mbtns{button{min-width:16.428571rem;}.tip{margin-left:9px;font-size:10px;color:#999999;}}}}"]))},3783:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/share-earn",function(){return n(12107)}])}},function(e){e.O(0,[794,12,774,888,179],(function(){return t=3783,e(e.s=t);var t}));var t=e.O();_N_E=t}]);